{"version":3,"sources":["components/Cards/ui/CardUI.js","styles/responsive.js","components/Cards/ui/CardsUI.js","constans/constans.js","functions/functions.js","hooks/useFormateData.js","styles/useCardsStyles.js","components/Cards/functional/CardsContainer.js","components/Search/ui/SearchUI.js","api/api.js","styles/useSearchStyles.js","components/Search/functional/SearchContainer.js","App.js","index.js"],"names":["CardUI","temp","date","icon","pres","humidity","clouds","wind","classes","isLoading","Card","className","card","CardContent","contentCard","Typography","title","color","gutterBottom","src","alt","variant","component","responsive","desktop","breakpoint","max","min","items","slidesToSlide","tablet","mobile","CardsUI","city","cards","swipeable","draggable","showDots","ssr","infinite","autoPlaySpeed","keyBoardControl","customTransition","transitionDuration","containerClass","removeArrowOnDeviceType","months","formateDate","month","arr","split","num","key","String","formateNum","Math","ceil","useFormateData","data","setData","useEffect","map","el","datetime","wind_spd","toFixed","replace","useCardsStyles","makeStyles","fontSize","padding","textAlign","borderRadius","CardsContainer","newData","useMemo","description","weather","rh","SearchUI","searchInput","handleChange","handleSubmit","showError","fullScreen","onSubmit","Paper","root","InputBase","input","inputProps","value","onChange","placeholder","IconButton","iconButton","aria-label","type","API","axios","create","baseURL","headers","params","lang","useSearchStyles","theme","breakpoints","down","width","marginLeft","spacing","flex","SearchContainer","setCity","setIsLoading","useState","setSearchInput","setShowError","setFullScreen","fetchData","a","get","then","res","status","city_name","catch","er","console","error","e","target","preventDefault","undefined","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.25264536.chunk.js","sourcesContent":["import React from \"react\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Typography from \"@material-ui/core/Typography\";\n\nconst CardUI = ({ temp, date, icon, pres, humidity, clouds, wind, classes, isLoading }) => {\n\n    if(isLoading === true){\n        return <p>Loading...</p>;\n    }\n    return (\n        <Card className={classes.card}>\n            <CardContent className={classes.contentCard}>\n                <Typography\n                    className={classes.title}\n                    color=\"textSecondary\"\n                    gutterBottom\n                >\n                    {date}\n                </Typography>\n                <img src={icon} alt='' />\n                <Typography variant=\"h5\" component=\"h2\">\n                    {temp}&deg;\n                </Typography>\n                <Typography variant=\"body2\" component=\"p\">\n                    Давление: {pres} мм.рт.ст.\n                </Typography>\n                <Typography variant=\"body2\" component=\"p\">\n                    Влажность: {humidity}%\n                </Typography>\n                <Typography variant=\"body2\" component=\"p\">\n                    Облачность: {clouds}%\n                </Typography>\n                <Typography variant=\"body2\" component=\"p\">\n                    Ветер: {wind} м/с\n                </Typography>\n            </CardContent>\n        </Card>\n    )\n}\n\nexport default CardUI\n","export const responsive = {\n    desktop: {\n      breakpoint: { max: 3000, min: 1024 },\n      items: 5,\n      slidesToSlide: 5 \n    },\n    tablet: {\n      breakpoint: { max: 1024, min: 464 },\n      items: 3,\n      slidesToSlide: 2 \n    },\n    mobile: {\n      breakpoint: { max: 464, min: 0 },\n      items: 1,\n      slidesToSlide: 1 \n    }\n  };","import React from 'react';\nimport Carousel from \"react-multi-carousel\";\nimport \"react-multi-carousel/lib/styles.css\";\nimport { responsive } from '../../../styles/responsive';\n\nconst CardsUI = ({ city, cards }) => {\n\n  return (\n    <>\n      <div className='cards-city'>{city}</div>\n      <Carousel\n        swipeable={true}\n        draggable={true}\n        showDots={false}\n        responsive={responsive}\n        ssr={true}\n        infinite={false}\n        autoPlaySpeed={1000}\n        keyBoardControl={true}\n        customTransition=\"all .5\"\n        transitionDuration={500}\n        containerClass=\"carousel-container\"\n        removeArrowOnDeviceType={[\"tablet\", \"mobile\"]}\n      > \n        {cards}\n      </Carousel>\n    </>\n  )\n}\n\nexport default CardsUI\n","export const months = {\n    '01': 'января',\n    '02': 'февраля',\n    '03': 'марта',\n    '04':'апреля',\n    '05': 'мая',\n    '06': 'июня',\n    '07': 'июля',\n    '08': 'августа',\n    '09': 'сентября',\n    '10': 'октября',\n    '11': 'ноября',\n    '12': 'декабря',\n}\n\nexport const PRESSURE_CONST = 1.333\n\nexport const GET_WEATHER_ICONS_LINK = 'https://www.weatherbit.io/static/img/icons/'","import { months } from '../constans/constans';\n\nexport const formateDate = (date) => {\n    const arr = date.split('-');\n\n    let num = arr[2][0] === '0' ? arr[2][1] : arr[2]; // убираем первый 0 из чисел до 10\n    let month;\n\n    for (let key in months){\n        if(key === String(arr[1])){\n            month = months[key] \n        }\n    };\n\n    return num + ' ' + month // приводим дату из формата 2021-01-24 в 24 января\n}\n\nexport const formateNum = num => Math.ceil(num) === '-0' ? '0' : Math.ceil(num); // огругление без запятых \n\nexport const formateNumToFixed = num => (num.toFixed(1)).replace('.', ','); // огругление до одного знака после запятой","import { useEffect } from \"react\";\nimport { PRESSURE_CONST } from \"../constans/constans\";\nimport { formateDate, formateNum, formateNumToFixed } from '../functions/functions';\n\nconst useFormateData = (data, setData) => {\n\n  useEffect(() => {\n    setData(\n      [\n        ...data.map(el => {\n          return {\n            ...el,\n            temp: formateNum(el.temp),\n            datetime: formateDate(el.datetime),\n            pres: formateNum(el.pres / PRESSURE_CONST),\n            wind_spd: formateNumToFixed(el.wind_spd)\n          }\n        })\n      ])\n  }, [])\n\n  return data\n}\n\nexport default useFormateData;","import { makeStyles } from \"@material-ui/core/styles\";\n\nexport const useCardsStyles = makeStyles(() => ({\n    title: {\n        fontSize: 14\n    },\n\n    contentCard: {\n        \"&:last-child\": {\n            padding: 16\n        },\n        textAlign: \"center\",\n    },\n    card: {\n        borderRadius: 0,\n    }\n}));\n","import React, { useMemo } from 'react';\nimport CardUI from '../ui/CardUI';\nimport CardsUI from \"../ui/CardsUI\";\nimport './Cards.css';\nimport useFormateData from '../../../hooks/useFormateData';\nimport { useCardsStyles } from '../../../styles/useCardsStyles';\nimport { GET_WEATHER_ICONS_LINK } from '../../../constans/constans';\n\nconst CardsContainer = ({ data, city , setData, isLoading}) => {\n\n    const classes = useCardsStyles();\n\n    const newData = useFormateData(data, setData);\n\n    const cards = useMemo(()=>{\n        return newData.map( el => <CardUI\n            key={el.datetime}\n            temp={el.temp}\n            date={el.datetime}\n            description={el.weather.description}\n            icon={GET_WEATHER_ICONS_LINK + `${el.weather.icon}.png`}\n            pres={el.pres}\n            humidity={el.rh}\n            clouds={el.clouds}\n            wind={el.wind_spd}\n            classes={classes} />)\n    }, [newData, classes]) \n\n    return <CardsUI city={city} cards={cards} isLoading={isLoading} />\n}\n\nexport default CardsContainer;\n","import React from 'react';\nimport Paper from \"@material-ui/core/Paper\";\nimport InputBase from \"@material-ui/core/InputBase\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport IconButton from \"@material-ui/core/IconButton\";\n\nconst SearchUI = ({ searchInput, handleChange, handleSubmit, showError, classes, fullScreen }) => {\n    return (\n        <form className={fullScreen ? \"search-wrapper fullscreen\" : \"search-wrapper\"} onSubmit={handleSubmit}>\n            <h2 className=\"search-title\">WHAT IS THE WEATHER?</h2>\n            <div>\n                <Paper\n                    className={classes.root}>\n                    <InputBase\n                        className={classes.input}\n                        inputProps={{ \"aria-label\": \"search\" }}\n                        value={searchInput}\n                        onChange={handleChange}\n                        placeholder=\"City\"\n                    />\n                    <IconButton\n                        className={classes.iconButton}\n                        aria-label=\"search\"\n                        type=\"submit\"\n                    >\n                        <SearchIcon />\n                    </IconButton>\n                </Paper>\n                {showError && <div className=\"search-error\">Please, enter the city</div>}\n            </div>\n        </form>\n    )\n}\n\nexport default SearchUI\n","import axios from 'axios';\n\nconst API_KEY = '797306ec7cd54de5b48cd37e7c3b5dfb';\n\nexport const API = axios.create({\n  baseURL: \"https://api.weatherbit.io/v2.0/forecast/daily\",\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n  params: {\n    lang: 'ru',\n    key: API_KEY\n  }\n});\n\n\n","import { makeStyles } from \"@material-ui/core/styles\";\n\nexport const useSearchStyles = makeStyles((theme) => ({\n    root: {\n        [theme.breakpoints.down(\"sm\")]: {\n            width: 270\n        },\n        display: \"flex\",\n        alignItems: \"center\",\n        width: 500\n    },\n    input: {\n        marginLeft: theme.spacing(1),\n        flex: 1\n    },\n    iconButton: {\n        padding: 10,\n        \"&:hover\": {\n            borderRadius: 0\n        },\n        borderRadius: 0,\n    }\n}));\n","import React, { useEffect, useState } from \"react\";\nimport SearchUI from \"../ui/SearchUI\";\nimport { API } from \"../../../api/api\";\nimport \"./Search.css\";\nimport { useSearchStyles } from \"../../../styles/useSearchStyles\";\n\nconst SearchContainer = ({ setData, setCity, setIsLoading }) => {\n\n    const classes = useSearchStyles();\n\n    const [searchInput, setSearchInput] = useState('');\n    const [showError, setShowError] = useState(false);\n    const [fullScreen, setFullScreen] = useState(true);\n\n    const fetchData = async () => {\n        setIsLoading(true);\n        await API.get('/', {\n            params: {\n                city: searchInput\n            }\n        })\n            .then( res => {\n                setIsLoading(false);\n                if (res.status === 204) {\n                    setShowError(true);\n                    setFullScreen(true);\n                }\n                else{\n                    setFullScreen(false);\n                    setCity(res.data.city_name);\n                    setData(res.data.data);\n                    setSearchInput('');\n                }\n            })\n            .catch( er => {\n                console.error('error', er);\n            })\n    };\n\n    const handleChange = e => {\n        setSearchInput(e.target.value);\n    };\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        if (searchInput === '') {\n            setFullScreen(true);\n            setShowError(true);\n            setSearchInput('');\n            setData(undefined)\n        }\n        else {\n            setShowError(false);\n            setData(undefined);\n            fetchData();\n        }\n    };\n\n    useEffect(() => {\n        return () => {\n            fetchData();\n        }\n    }, []);\n    \n    return <SearchUI\n        handleChange={handleChange}\n        handleSubmit={handleSubmit}\n        searchInput={searchInput}\n        showError={showError}\n        classes={classes} \n        fullScreen = {fullScreen}/>;\n}\n\nexport default SearchContainer;\n","import React, { useState } from \"react\";\nimport CardsContainer from \"./components/Cards/functional/CardsContainer\";\nimport SearchContainer from \"./components/Search/functional/SearchContainer\";\n\nconst App = () => {\n\n  const [data, setData] = useState(undefined);\n  const [city, setCity] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n\n  return (\n    <>\n      <SearchContainer setData={setData} setCity={setCity} setIsLoading={setIsLoading} />\n      {data && <CardsContainer data={data} city={city}  setData={setData} isLoading={isLoading}/>}\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}