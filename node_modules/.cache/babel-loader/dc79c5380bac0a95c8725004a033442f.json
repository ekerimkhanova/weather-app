{"ast":null,"code":"import _objectSpread from\"/Users/emma/Desktop/weather-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/emma/Desktop/weather-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _defineProperty from\"/Users/emma/Desktop/weather-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useState}from\"react\";import SearchUI from\"../ui/SearchUI\";import{API,API_DEFAULT_PARAMS}from\"../../../api/api\";import\"./Search.css\";import{makeStyles}from\"@material-ui/core/styles\";var useStyles=makeStyles(function(theme){var _root;return{root:(_root={},_defineProperty(_root,theme.breakpoints.down(\"sm\"),{width:270}),_defineProperty(_root,\"display\",\"flex\"),_defineProperty(_root,\"alignItems\",\"center\"),_defineProperty(_root,\"width\",500),_root),input:{marginLeft:theme.spacing(1),flex:1},iconButton:{padding:10,\"&:hover\":{borderRadius:0},borderRadius:0}};});var SearchContainer=function SearchContainer(_ref){var setData=_ref.setData,setCity=_ref.setCity;var classes=useStyles();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),searchInput=_useState2[0],setSearchInput=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showError=_useState4[0],setShowError=_useState4[1];var handleChange=function handleChange(e){setSearchInput(e.target.value);};var handleSubmit=function handleSubmit(){setShowError(false);setData(null);if(searchInput===''){setShowError(true);setSearchInput('');setData(null);}else{API.get('/',{params:_objectSpread(_objectSpread({},API_DEFAULT_PARAMS),{},{city:searchInput})}).then(function(res){if(res.status===204){setShowError(true);setSearchInput('');setData(null);}setCity(res.data.city_name);setData(res.data.data);setSearchInput('');}).catch(function(er){console.error('error',er);});}};return/*#__PURE__*/_jsx(SearchUI,{handleChange:handleChange,handleSubmit:handleSubmit,searchInput:searchInput,showError:showError,classes:classes});};export default SearchContainer;","map":{"version":3,"sources":["/Users/emma/Desktop/weather-app/src/components/Search/functional/SearchContainer.js"],"names":["React","useState","SearchUI","API","API_DEFAULT_PARAMS","makeStyles","useStyles","theme","root","breakpoints","down","width","input","marginLeft","spacing","flex","iconButton","padding","borderRadius","SearchContainer","setData","setCity","classes","searchInput","setSearchInput","showError","setShowError","handleChange","e","target","value","handleSubmit","get","params","city","then","res","status","data","city_name","catch","er","console","error"],"mappings":"8eAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,QAAP,KAAqB,gBAArB,CACA,OAASC,GAAT,CAAcC,kBAAd,KAAwC,kBAAxC,CACA,MAAO,cAAP,CACA,OAASC,UAAT,KAA2B,0BAA3B,CAEA,GAAMC,CAAAA,SAAS,CAAGD,UAAU,CAAC,SAACE,KAAD,kBAAY,CACrCC,IAAI,iCACCD,KAAK,CAACE,WAAN,CAAkBC,IAAlB,CAAuB,IAAvB,CADD,CACgC,CAC5BC,KAAK,CAAE,GADqB,CADhC,kCAIS,MAJT,qCAKY,QALZ,gCAMO,GANP,QADiC,CASrCC,KAAK,CAAE,CACHC,UAAU,CAAEN,KAAK,CAACO,OAAN,CAAc,CAAd,CADT,CAEHC,IAAI,CAAE,CAFH,CAT8B,CAarCC,UAAU,CAAE,CACRC,OAAO,CAAE,EADD,CAER,UAAW,CACPC,YAAY,CAAE,CADP,CAFH,CAKRA,YAAY,CAAE,CALN,CAbyB,CAAZ,EAAD,CAA5B,CAsBA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,MAA0B,IAAvBC,CAAAA,OAAuB,MAAvBA,OAAuB,CAAdC,OAAc,MAAdA,OAAc,CAE9C,GAAMC,CAAAA,OAAO,CAAGhB,SAAS,EAAzB,CAF8C,cAIRL,QAAQ,CAAC,EAAD,CAJA,wCAIvCsB,WAJuC,eAI1BC,cAJ0B,8BAKZvB,QAAQ,CAAC,KAAD,CALI,yCAKvCwB,SALuC,eAK5BC,YAL4B,eAO9C,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,CAAD,CAAO,CACxBJ,cAAc,CAACI,CAAC,CAACC,MAAF,CAASC,KAAV,CAAd,CACH,CAFD,CAIA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACvBL,YAAY,CAAC,KAAD,CAAZ,CACAN,OAAO,CAAC,IAAD,CAAP,CAEA,GAAIG,WAAW,GAAK,EAApB,CAAwB,CACpBG,YAAY,CAAC,IAAD,CAAZ,CACAF,cAAc,CAAC,EAAD,CAAd,CACAJ,OAAO,CAAC,IAAD,CAAP,CACH,CAJD,IAKK,CACDjB,GAAG,CAAC6B,GAAJ,CAAQ,GAAR,CAAa,CACTC,MAAM,gCACC7B,kBADD,MAEF8B,IAAI,CAAEX,WAFJ,EADG,CAAb,EAMKY,IANL,CAMU,SAACC,GAAD,CAAS,CACX,GAAIA,GAAG,CAACC,MAAJ,GAAe,GAAnB,CAAwB,CACpBX,YAAY,CAAC,IAAD,CAAZ,CACAF,cAAc,CAAC,EAAD,CAAd,CACAJ,OAAO,CAAC,IAAD,CAAP,CACH,CACDC,OAAO,CAACe,GAAG,CAACE,IAAJ,CAASC,SAAV,CAAP,CACAnB,OAAO,CAACgB,GAAG,CAACE,IAAJ,CAASA,IAAV,CAAP,CACAd,cAAc,CAAC,EAAD,CAAd,CACH,CAfL,EAgBKgB,KAhBL,CAgBW,SAACC,EAAD,CAAQ,CACXC,OAAO,CAACC,KAAR,CAAc,OAAd,CAAuBF,EAAvB,EACH,CAlBL,EAmBH,CACJ,CA9BD,CAgCA,mBAAO,KAAC,QAAD,EACH,YAAY,CAAEd,YADX,CAEH,YAAY,CAAEI,YAFX,CAGH,WAAW,CAAER,WAHV,CAIH,SAAS,CAAEE,SAJR,CAKH,OAAO,CAAEH,OALN,EAAP,CAMH,CAjDD,CAmDA,cAAeH,CAAAA,eAAf","sourcesContent":["import React, { useState } from \"react\";\nimport SearchUI from \"../ui/SearchUI\";\nimport { API, API_DEFAULT_PARAMS } from \"../../../api/api\";\nimport \"./Search.css\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        [theme.breakpoints.down(\"sm\")]: {\n            width: 270\n        },\n        display: \"flex\",\n        alignItems: \"center\",\n        width: 500\n    },\n    input: {\n        marginLeft: theme.spacing(1),\n        flex: 1\n    },\n    iconButton: {\n        padding: 10,\n        \"&:hover\": {\n            borderRadius: 0\n        },\n        borderRadius: 0,\n    }\n}));\n\nconst SearchContainer = ({ setData, setCity }) => {\n\n    const classes = useStyles();\n\n    const [searchInput, setSearchInput] = useState('');\n    const [showError, setShowError] = useState(false);\n\n    const handleChange = (e) => {\n        setSearchInput(e.target.value);\n    };\n\n    const handleSubmit = () => {\n        setShowError(false);\n        setData(null);\n\n        if (searchInput === '') {\n            setShowError(true);\n            setSearchInput('');\n            setData(null)\n        }\n        else {\n            API.get('/', {\n                params: {\n                    ...API_DEFAULT_PARAMS,\n                    city: searchInput\n                }\n            })\n                .then((res) => {\n                    if (res.status === 204) {\n                        setShowError(true);\n                        setSearchInput('');\n                        setData(null);\n                    }\n                    setCity(res.data.city_name);\n                    setData(res.data.data);\n                    setSearchInput('');\n                })\n                .catch((er) => {\n                    console.error('error', er);\n                })\n        }\n    };\n\n    return <SearchUI\n        handleChange={handleChange}\n        handleSubmit={handleSubmit}\n        searchInput={searchInput}\n        showError={showError}\n        classes={classes} />;\n}\n\nexport default SearchContainer;\n"]},"metadata":{},"sourceType":"module"}